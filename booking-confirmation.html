<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Confirmation - Event Hub</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html">
                    <i class="fas fa-calendar-star"></i>
                    Event Hub
                </a>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="events.html">Events</a></li>
                <li><a href="profile.html" id="profileNavLink" style="display: none;">Profile</a></li>
                <li><a href="cart.html" class="cart-link">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </a></li>
                <li id="logoutNavItem" style="display: none;">
                    <a href="#" onclick="authSystem.logout()">Logout</a>
                </li>
            </ul>
        </div>
    </nav>

     Login Required Section 
    <div id="loginRequired" class="login-required" style="display: none;">
        <div class="container">
            <div class="login-prompt">
                <i class="fas fa-lock"></i>
                <h2>Login Required</h2>
                <p>Please login to complete your booking</p>
                <a href="login.html" class="btn-primary">Login Now</a>
            </div>
        </div>
    </div>

    
    <div id="bookingConfirmationContent" style="display: none;">
        
        <div class="breadcrumb">
            <div class="container">
                <a href="index.html">Home</a>
                <i class="fas fa-chevron-right"></i>
                <a href="events.html">Events</a>
                <i class="fas fa-chevron-right"></i>
                <a href="#" id="eventBreadcrumb">Event</a>
                <i class="fas fa-chevron-right"></i>
                <span>Booking Confirmation</span>
            </div>
        </div>

        
        <main class="main-content">
            <div class="container">
                <div class="booking-confirmation-layout">
                     Event Summary 
                    <div class="event-summary-card">
                        <div id="eventSummary"></div>
                    </div>

                     Payment Form 
                    <div class="payment-section">
                        <div class="payment-card">
                            <h2><i class="fas fa-credit-card"></i> Payment Details</h2>
                            
                             Selected Seats Summary 
                            <div class="booking-summary">
                                <h3>Booking Summary</h3>
                                <div id="selectedSeatsDisplay"></div>
                                <div id="pricingDetails"></div>
                            </div>

                             Payment Form 
                            <form id="paymentForm" class="payment-form">
                                <div class="form-group">
                                    <label for="cardNumber">Card Number</label>
                                    <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19" required>
                                    <div class="card-icons">
                                        <i class="fab fa-cc-visa"></i>
                                        <i class="fab fa-cc-mastercard"></i>
                                        <i class="fab fa-cc-amex"></i>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="expiryDate">Expiry Date</label>
                                        <input type="text" id="expiryDate" placeholder="MM/YY" maxlength="5" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="cvv">CVV</label>
                                        <input type="text" id="cvv" placeholder="123" maxlength="4" required>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="cardholderName">Cardholder Name</label>
                                    <input type="text" id="cardholderName" placeholder="John Doe" required>
                                </div>

                                <div class="payment-total">
                                    <div class="total-row">
                                        <span>Total Amount</span>
                                        <span class="total-amount" id="finalTotal">â‚¹0</span>
                                    </div>
                                </div>

                                <button type="submit" class="btn-primary payment-btn">
                                    <i class="fas fa-lock"></i>
                                    Complete Payment
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    
    <div id="bookingSuccessModal" class="modal" style="display: none;">
        <div class="modal-content success-modal">
            <div class="success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2>Your tickets are booked successfully ðŸŽ‰</h2>
            <div id="bookingDetails"></div>
            <div class="modal-actions">
                <button onclick="goToProfile()" class="btn-primary">View My Bookings</button>
                <button id="downloadTicketBtn" onclick="bookingConfirmationSystem.downloadTicket()" class="btn-primary">Download Ticket</button>
                <button id="downloadPdfBtn" onclick="bookingConfirmationSystem.downloadPdfTicket()" class="btn-primary">Download PDF</button>
                <button id="printTicketBtn" onclick="bookingConfirmationSystem.printTicket()" class="btn-primary">Print Ticket</button>
                <button onclick="closeSuccessModal()" class="btn-secondary">Continue Browsing</button>
            </div>
        </div>
    </div>

    <script src="auth.js"></script>
    <!-- jsPDF for client-side PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="booking-confirmation.js"></script>
</body>
</html>
